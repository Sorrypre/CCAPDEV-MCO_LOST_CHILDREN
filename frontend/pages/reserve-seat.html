<!DOCTYPE HTML>
<html>
	<head>
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<link rel="stylesheet" href="../styles/tailwind.css" />
	</head>
	<body class="reservation-seat dashboard-background">
		<div id="top">
			<!--<img class="hamburger-icon" src="https://upload.wikimedia.org/wikipedia/commons/b/b2/Hamburger_icon.svg" />-->
			<button type="button" onclick="toggleNav()" class="hamburger-icon"></button>
			<div class="trademark">
				<span class="landmass"></span>
				<span class="landmass-subtext"></span>
			</div>
			<div class="profile-bubble">
				<!-- PROFILE -->
			</div>
		</div>
        
        <div id="in-side-nav" class="side-nav">
            <a>Dashboard</a>
            <a>Reserve Seats</a>
            <a>See Reservations</a>
            <a>Account Setting</a>
            <a>Contact Us</a>
            <a>Log Out</a>
        </div>
		<div id="content">
            <div id="go-back-container">
                <span class="go-back-text">Go Back</span>
            </div>
            <div id="available-text-container">
                <p class="reserve-seat-text">G203</p>
                <p class="available-text">Available Seats</p>
            </div>
            <div id="content-area">
                <div class="seat-legend">
                    <div class="seat"></div>
                    <span>Available</span>
                    <div class="seat taken"></div>
                    <span>Taken</span>
                    <div class="seat selected"></div>
                    <span>Selected</span>
                </div>
                <div id="slots-container">
                    <div class="whiteboard">Whiteboard</div>
                    <div class="row" id="row-1">
                        <div class="seat selected" data-pc="1"></div>
                        <div class="seat" data-pc="2"></div>
                        <div class="seat" data-pc="3"></div>
                        <div class="space"></div>
                        <div class="seat" data-pc="4"></div>
                        <div class="seat" data-pc="5"></div>
                        <div class="seat" data-pc="6"></div>
                    </div>

                    <div class="row" id="row-2">
                        <div class="seat taken" data-pc="7"></div>
                        <div class="seat" data-pc="8"></div>
                        <div class="seat" data-pc="9"></div>
                        <div class="space"></div>
                        <div class="seat" data-pc="10"></div>
                        <div class="seat" data-pc="11"></div>
                        <div class="seat" data-pc="12"></div>
                    </div>

                    <div class="row" id="row-3">
                        <div class="seat" data-pc="13"></div>
                        <div class="seat" data-pc="14"></div>
                        <div class="seat" data-pc="15"></div>
                        <div class="space"></div>
                        <div class="seat" data-pc="16"></div>
                        <div class="seat" data-pc="17"></div>
                        <div class="seat" data-pc="18"></div>
                    </div>

                    <div class="row" id="row-4">
                        <div class="seat" data-pc="19"></div>
                        <div class="seat" data-pc="20"></div>
                        <div class="seat" data-pc="21"></div>
                        <div class="space"></div>
                        <div class="seat" data-pc="22"></div>
                        <div class="seat" data-pc="23"></div>
                        <div class="seat" data-pc="24"></div>
                    </div>

                    <div class="row" id="row-5">
                        <div class="seat" data-pc="25"></div>
                        <div class="seat" data-pc="26"></div>
                        <div class="seat" data-pc="27"></div>
                        <div class="space"></div>
                        <div class="seat" data-pc="28"></div>
                        <div class="seat" data-pc="29"></div>
                        <div class="cis"></div>
                    </div>
                    <div id="submit-container">
                        <button onclick="openModal()" class="submit-btn">Submit</button>
                    </div>
                </div>
            </div>
        </div>
        <div id="confirm-modal" class="hidden">
            <div id="confirm-modal-area">
                <h2>Confimation</h2>
                <p id="modal-details">
                    Date: <br>
                    Time: <br>
                    Building: <br>
                    Room: <br>
                    Number of seats: <br>
                </p>
                <div class="dialog-buttons">
                    <button class="confirm-btn" onclick="returnDashboard()">Confirm</button>
                    <button onclick="closeModal()" class="cancel-btn">Cancel</button>
                </div>
            </div>
        </div>
        <script>

            let go_back = document.querySelector("#go-back-container .go-back-text");
            go_back.onclick = function (){
                window.location.href = "reserve-rooms.html";
            };
            
            let container = document.getElementById("slots-container");

            container.addEventListener("click", (e) => {
                if(e.target.classList.contains('seat')){
                    console.log("Seat clicked:", e.target.dataset.pc);
                    e.target.classList.toggle("selected");
                }

            });
            
            const modal = document.getElementById('confirm-modal');

            function openModal() {
                console.log('open')
                modal.classList.remove('hidden');
                modal.classList.add('flex');
            }

            function closeModal() {
                modal.classList.remove('flex');
                modal.classList.add('hidden');
            }

            function returnDashboard(){
                window.location.href="dashboard.html";
            }
        </script>
        <script src="../../backend/main.js"> </script>
    </body>
</html>
